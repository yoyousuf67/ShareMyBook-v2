<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>ShareMyBook</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.png"/>
     <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.0/semantic.min.css">
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.0/semantic.min.js"></script>
     <script src="/javascripts/book_view.js">
     </script>
<link rel="stylesheet" href="/stylesheets/style.css">
  </head>
  <body>
    <div class="ui padded stackable grid">
      <div class="one wide black column computer only">
      </div>
      <div class="fifteen wide black column">
        <div class="ui segments">
          <div class="ui left floated inverted segment">
            <a href="/display_books"><img  class="ui image computer only grid"src="/images/smblogo2.PNG" alt="Logo"></a>
          </div>
          <div class="ui left floated inverted segment">
            <a href="/display_books"><img class="ui small image mobile only grid" src="/images/smblogo2.PNG" alt="Logo"></a>
          </div>
          <!--Top Right Menu-->
          <div class=" ui right floated inverted segment">
            <div class="ui icon top right pointing dropdown button">
              <i class="big align justify icon"></i>
              <div class="menu">
                <a class="item" href="/account_info/account"><i class="large user icon black"></i>My Account</a>
                <a class="item" href="/account_info/wishlist"><i class="large bookmark icon black"></i>My Wishlist</a>
                  <a class="item" href="/account_info/my_books_for_sale"><i class="large book icon black"></i>My Books for Sale</a>
                  <a class="item" onclick="logout()"><i class="large sign out alternate icon black"></i>Logout</a>
                <div class="ui section divider"></div>
                <div class="ui red header">Welcome to our Online Store</div>
                <div class="ui section divider"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--Mobile only checkout>-->
    <div class="ui one column grid mobile only">
      <br>
      <div class="ui padded segment">
        <h3>Subtotal 3 Items: &#x20b9;600</h3>
        <div class="ui teal button">
          Proceed to checkout
        </div>
      </div>
      <br>
    </div>
    <!--Left and Right stackable grids -->
    <div class="ui padded stackable grid">
      <!--Dummy stackable grid-->
      <div class="one wide column computer only"></div>
      <!--left stackable grid-->
      <div class="ten wide column">
        <h3 class="ui header">Shopping Cart</h3>
        <div class="ui four column grid computer only">
          <div class="column"></div>
          <div class="column"><h5>Detail</h5></div>
        <div class="column"><h5>Price</h5></div>
        <div class="column"></div>
        </div>
        <hr>
              {{# if condition}}
          <div class="ui one column stackable internally celled grid">
                <div class="column">  <h1>&nbsp;</h1>    </div><div class="column">
                  <div class="column">
                    <h3 class="header">No Books Added to Cart Yet</h3>
                  </div>
                   <h1>&nbsp;</h1>    </div><div class="column">  <h5>&nbsp;</h5>    </div>
                 </div>
              {{/if}}
              {{# each cartproducts as |val key|}}
          <div class="ui four column stackable celled grid">
              <div class="column">
                <a href="/book_view/{{val.book_id}}"><img class="ui bordered image" src="{{val.front_cover}}"/></a>
              </div>
              <div class="column">
                <span><a href="/book_view/{{val.book_id}}"><h4 class="ui header">{{val.bookname}} </h4></a>by {{val.author}}</span>
              </div>
            <div class="column">
              <span class="discount">&#x20b9;{{val.sp}}</span>
            </div>
            <div class="column">
            <a onclick='remove_from_cart("{{val.book_id}}")'>Remove from Cart</a>
            </div>
          </div>
            {{/each}}
<br><br><br><br><br><br><br><br><br><br><br><br><br>
  </div><!--Left stackable grid ends-->

      <!--Dummy stackable grid-->
      <div class="one wide column computer only"></div>
      <!--Right stackable grid-->
      <div class=" ui four wide column grid computer only">
        <br><br><br><br>
        <div class="ui padded segment">
          <h3>Subtotal 3 Items: &#x20b9;600</h3>
          <div class="ui teal button">
            Proceed to checkout
          </div>
        </div>
  </div>
</div>
  <div class="ui inverted vertical footer segment form-page">
    <div class="ui container">
  <i class="copyright outline icon"></i> 2018 ShareMyBook. All Rights Reserved.&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;<a>About us</a>&emsp;&emsp;<a> Contact us</a>
    </div>
  </div>
  </body>
<script type="text/javascript">
$('.ui.dropdown').dropdown({on: 'click'});
$('.ui.image').dimmer({on: 'hover'});
$('.ui.icon.button').popup({on: 'click'});
</script>
<script>
function remove_from_cart(book_id) {
  var settings = {
  "async": true,
  "crossDomain": true,
  "url": "http://localhost:8080/book/remove_from/cart/"+book_id,
  "method": "GET",
  "headers": {
  "cache-control": "no-cache"
  }
  }
$.ajax(settings).done(function (response) {
console.log(response);
cart_display();
});
}
</script>
</html>
